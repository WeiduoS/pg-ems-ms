task build_web() {
    dependsOn ':pg-ems-web:npm_run_build';
}

task copy_web_static() {
    dependsOn 'build_web';
    delete ':pg-ems/src/main/resources/static';
    copy {
        from 'pg-ems-web/build';
        into 'pg-ems/src/main/resources/static';
    }
}

task run_project {
    dependsOn 'copy_web_static';
    finalizedBy ':pg-ems:bootRun';
}

task build_project {
    dependsOn 'copy_web_static';
    finalizedBy ':pg-ems:bootJar';
}